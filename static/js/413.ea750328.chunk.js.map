{"version":3,"file":"static/js/413.ea750328.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/ShopList/ShopList.module.css?e511","components/ShopList/ShopList.jsx","webpack://react-homework-template/./src/components/DrugList/DrugList.module.css?1eca","components/DrugList/DrugList.jsx","webpack://react-homework-template/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://react-homework-template/./src/pages/Shop/Shop.module.css?943e","pages/Shop/Shop.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"shopList\":\"ShopList_shopList__JXBkC\",\"shopLink\":\"ShopList_shopLink__+yNJW\"};","import css from './ShopList.module.css';\n\nexport const ShopList = ({ shops, onSelectShop }) => {\n\n  const handleShopClick = (shopId) => {\n    onSelectShop(shopId);\n  };\n\n  return (\n    <ul className={css.shopList}>\n    {shops.map((shop) => (\n      <li key={shop.id}>\n        <button onClick={() => handleShopClick(shop.id)} className={css.shopLink}>{shop.name}</button>\n      </li>\n    ))}\n  </ul>\n  );\n};\n\nexport default ShopList;\n","// extracted by mini-css-extract-plugin\nexport default {\"drugList\":\"DrugList_drugList__UQtwR\",\"drugItem\":\"DrugList_drugItem__r0ePb\",\"drugImg\":\"DrugList_drugImg__j6ycj\",\"wrapper\":\"DrugList_wrapper__mSucQ\",\"drugTitle\":\"DrugList_drugTitle__zjpJ-\",\"btnAddToCart\":\"DrugList_btnAddToCart__vNPd9\"};","import { useState, useEffect } from 'react';\nimport css from './DrugList.module.css'\nexport const DrugList = ({ drugs, onAddToCart }) => {\n    const baseImgUrl = 'http://';\n    const defaultImg = 'https://img.freepik.com/premium-vector/default-image-icon-vector-missing-picture-page-website-design-mobile-app-no-photo-available_87543-11093.jpg';\n\n    const initialCart = JSON.parse(localStorage.getItem('cart')) || [];\n\n    const [cart, setCart] = useState(initialCart);\n\n    const isProductInCart = (id) => cart.some((item) => item.id === id);\n\n    const handleToggleCart = (drug) => {\n        const isInCart = cart.some((item) => item.id === drug.id);\n\n        if (isInCart) {\n            setCart((prevCart) => prevCart.filter((item) => item.id !== drug.id));\n            onAddToCart({ ...drug, amount: -1 });\n        } else {\n            setCart((prevCart) => [...prevCart, { ...drug, amount: 1 }]);\n            onAddToCart({ ...drug, amount: 1 });\n        }\n    };\n\n    useEffect(() => {\n        localStorage.setItem('cart', JSON.stringify(cart));\n    }, [cart]);\n\n    return (\n        <ul className={css.drugList}>\n            {Array.isArray(drugs) && drugs.length > 0 && drugs.map(({ id, poster_path, name, price }) => (\n                <li key={id} className={css.drugItem}>\n                    <img\n                        src={poster_path ? `${baseImgUrl}${poster_path}` : defaultImg}\n                        alt={name}\n                        className={css.drugImg}\n                    />\n\n                    <div className={css.wrapper}>\n                        <p className={css.drugTitle}>{name}</p>\n                        <button \n                            type=\"button\" \n                            onClick={() => handleToggleCart({ id, name, price })}\n                            className={css.btnAddToCart}\n                        >\n                            {isProductInCart(id) ? 'Remove from Cart' : 'Add to Cart'}\n                        </button>\n                    </div>\n                </li>\n            ))}\n        </ul>\n    );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__+lRPl\"};","import { Rings } from 'react-loader-spinner';\nimport css from './Loader.module.css'\n\nexport const Loader = () => {\n    return(\n        <div className={css.loader}>\n    <Rings\n        visible={true}\n        height=\"100\"\n        width=\"100\"\n        color=\"#4fa94d\"\n        ariaLabel=\"rings-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"\"\n    />\n    </div>);\n}\n\nexport default Loader","// extracted by mini-css-extract-plugin\nexport default {\"shopContainer\":\"Shop_shopContainer__qnJj5\",\"shopTitle\":\"Shop_shopTitle__18szw\"};","import { useState, useEffect } from 'react';\nimport { ShopList } from '../../components/ShopList/ShopList';\nimport { DrugList } from '../../components/DrugList/DrugList';\nimport { Loader } from '../../components/Loader/Loader';\nimport * as api from '../../services/api';\nimport css from './Shop.module.css';\n\nexport default function Shop() {\n    const [shops, setShops] = useState([]);\n    const [drugs, setDrugs] = useState([]);\n    const [selectedShopId, setSelectedShopId] = useState(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState(null);\n    // eslint-disable-next-line\n    const [cart, setCart] = useState([]);\n\n    useEffect(() => {\n        async function getListShops() {\n            try {\n                setIsLoading(true);\n                const response = await api.getShops();\n                setShops(response);\n                if (!selectedShopId && response.length > 0) {\n                    setSelectedShopId(response[0]?.id);\n                }\n            } catch (error) {\n                setError(error);\n            } finally {\n                setIsLoading(false);\n            }\n        }\n        getListShops();\n    }, [selectedShopId]);\n\n    useEffect(() => {\n        async function getListDrugs() {\n            try {\n                setIsLoading(true);\n                const response = await api.getDrugsByShopId(selectedShopId);\n                setDrugs(response);\n            } catch (error) {\n                setError(error);\n            } finally {\n                setIsLoading(false);\n            }\n        }\n    \n        if (selectedShopId) {\n            getListDrugs();\n        }\n    }, [selectedShopId]);\n\n    const handleShopChange = (shopId) => {\n        setSelectedShopId(shopId);\n    };\n    const handleAddToCart = (drug) => {\n        setCart((prevCart) => [...prevCart, drug]);\n    };\n\n    if (isLoading) {\n        return <Loader />;\n    }\n\n    if (error) {\n        return (\n            <div>\n                <b>:{'\\u0028'}</b> Something went wrong{' '}\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"container\" style={{display: 'flex', flexDirection: 'row', gap: '40px', paddingTop: '50px'}}>\n            <div className={css.shopContainer}>\n                <h3 className={css.shopTitle}>Shops:</h3>\n                <ShopList shops={shops} onSelectShop={handleShopChange} />\n            </div>\n\n            {selectedShopId && (\n                <div className={css.drugsContainer}>\n                    <DrugList drugs={drugs} onAddToCart={handleAddToCart} />\n                </div>\n            )}\n        </div>\n    );\n}\n","import axios from \"axios\";\n\nexport const getShops = async () => {\n    try {\n        const response = await axios.get('/data/shops.json');\n        return response.data;\n    } catch (error) {\n        throw error;\n    }\n};\n\nexport const getDrugs = async () => {\n    try{\n        const response = await axios.get('/data/drugs.json');\n        return response.data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function getDrugsByShopId(shopId) {\n    try {\n        const response = await axios.get(`/data/drugs.json`);\n        const filteredDrugs = response.data.filter(drug => drug.shopId === shopId);\n        return filteredDrugs;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function getDrugsFromCart() {\n    try {\n        const cartData = await localStorage.getItem('cart');\n        return cartData ? JSON.parse(cartData) : [];\n    } catch (error) {\n        throw error;\n    }\n}\n"],"names":["ShopList","_ref","shops","onSelectShop","_jsx","className","css","children","map","shop","onClick","shopId","id","name","DrugList","drugs","onAddToCart","initialCart","JSON","parse","localStorage","getItem","_useState","useState","_useState2","_slicedToArray","cart","setCart","isProductInCart","some","item","useEffect","setItem","stringify","Array","isArray","length","_ref2","poster_path","price","_jsxs","src","concat","alt","type","drug","prevCart","filter","_objectSpread","amount","_toConsumableArray","Loader","Rings","visible","height","width","color","ariaLabel","wrapperStyle","wrapperClass","Shop","setShops","_useState3","_useState4","setDrugs","_useState5","_useState6","selectedShopId","setSelectedShopId","_useState7","_useState8","isLoading","setIsLoading","_useState9","_useState10","error","setError","_useState11","_useState12","_getListShops","_asyncToGenerator","_regeneratorRuntime","_callee","response","_response$","_context","prev","next","api","sent","t0","finish","stop","apply","arguments","getListShops","_getListDrugs","_callee2","_context2","getListDrugs","style","display","flexDirection","gap","paddingTop","getShops","axios","abrupt","data","getDrugsByShopId","_x","_getDrugsByShopId","_callee3","filteredDrugs","_context3","getDrugsFromCart","_getDrugsFromCart","_callee4","cartData","_context4"],"sourceRoot":""}